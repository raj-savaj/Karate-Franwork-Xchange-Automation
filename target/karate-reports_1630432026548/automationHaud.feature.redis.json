[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def redisHandler = Java.type(\"helpers.RedisHandler\")","result":{"duration":8191000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"def routeValidate = Java.type(\"helpers.validateRoute\")","result":{"duration":113604300,"error_message":"js failed:\n>>>>\n01: Java.type(\"helpers.validateRoute\")\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class helpers.validateRoute is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:automationHaud\/feature\/redis.feature:5","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"23:16:08.891 classpath:automationHaud\/feature\/redis.feature:5\n* def routeValidate = Java.type(\"helpers.validateRoute\")\njs failed:\n>>>>\n01: Java.type(\"helpers.validateRoute\")\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class helpers.validateRoute is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:automationHaud\/feature\/redis.feature:5\n","line":5}},{"name":"url apiUrl","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def tokenResponse = callonce read('classpath:helpers\/createToken.feature')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def token = tokenResponse.accessToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8}]},{"line":10,"name":"Validate Route, Network and country through Redis","description":"","id":"validate-route,-network-and-country-through-redis","type":"scenario","keyword":"Scenario","steps":[{"name":"def route = redisHandler.getRedisData(\"edge.core.sms.routes-data\")","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"path 'destinations\/countries'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":13},{"name":"header Authorization = 'Bearer ' + token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":14},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16},{"name":"def countyId = get[0] response.countries[?(@.country_name=='Malta')].country_id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"path \"destinations\/countries\/\"+countyId+\"\/networks\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":19},{"name":"header Authorization = 'Bearer ' + token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":20},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":21},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":22},{"name":"def networkId = get[0] response.networks[?(@.network_name=='Vodafone')].network_id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":23},{"name":"path 'routes'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":25},{"name":"header Authorization = 'Bearer ' + token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":28},{"name":"def routeId = get[0] response.routes[?(@.name=='Route1')].id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":29},{"name":"match routeValidate.getRouteId(route) contains routeId","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":31},{"name":"match routeValidate.getCountryId(route,routeId) contains countyId","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32},{"name":"match routeValidate.getNetworkId(route,routeId,countyId) contains networkId","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33}],"tags":[]}],"name":"automationHaud\/feature\/redis.feature","description":"Work with redis","id":"work-with-redis","keyword":"Feature","uri":"automationHaud\/feature\/redis.feature"}]